<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Server - 标签 - NEGOCES's Blog</title><link>https://negoces.github.io/tags/server/</link><description>Server - 标签 - NEGOCES's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>negoces@163.com (NEGOCES)</managingEditor><webMaster>negoces@163.com (NEGOCES)</webMaster><lastBuildDate>Wed, 10 Mar 2021 17:13:41 +0800</lastBuildDate><atom:link href="https://negoces.github.io/tags/server/" rel="self" type="application/rss+xml"/><item><title>从零开始搭建一个我的世界服务器</title><link>https://negoces.github.io/posts/079848ab/</link><pubDate>Wed, 10 Mar 2021 17:13:41 +0800</pubDate><author>作者</author><guid>https://negoces.github.io/posts/079848ab/</guid><description><![CDATA[<div class="featured-image">
                <img src="/posts/079848ab/cover.png" referrerpolicy="no-referrer">
            </div><p>相信有不少人玩 Minecraft 的时候都想与自己的小伙伴一起玩耍，如过你们恰好在同一局域网，那么可以通过游戏内的<code>对局域网开放</code>与小伙伴联机，但是房主必须一直在线，而且非局域网内的小伙伴也无法一起玩耍。</p>
<blockquote>
<p>本文章只介绍了如何搭建一个 Minecraft 服务器，并不能直接让非局域网的用户连接，如果你恰好有公网 IP 只需要在路由器里面做个小小的设置(<code>端口映射</code>、<code>端口转发</code>或者叫<code>虚拟服务器</code>)就可以访问了，如果你没有公网 IP 你可以百度<code>内网穿透</code>寻找解决方案</p>
</blockquote>
<h2 id="基础知识">基础知识</h2>
<h3 id="java">Java</h3>
<p>Minecraft 玩家应该都知道这是什么东西，这里也不做过多的解释，想要了解的可以自己去百度、Google 或者<a href="https://zh.wikipedia.org/wiki/Java" target="_blank" rel="noopener noreffer">Wiki</a>。</p>
<p>我们搭建服务需要一个 Java 运行环境即 JRE(Java Runtime Environment)，不过我建议使用 Server JRE 或者 JDK 以便使用更多的启动参数，比如<code>-server</code>。</p>
<h3 id="ip-地址和端口">IP 地址和端口</h3>
<ul>
<li>
<p>IP 地址(IP Address)：这是一个网络上的概念，在网络上我们的手机、电脑相当于一个个建筑，网络则是一条条道路，IP 地址则是你的的门牌号，通过 IP 地址可以找到你的手机、电脑在什么地方，从而与你建立连接，发送数据。</p>
</li>
<li>
<p>端口(Port)：前面说 IP 地址是你的门牌号，那么端口指的就是你家的哪个门，前门、后门或者窗户？与哪个端口连接就相当于从哪个入口进去。Java 版 Minecraft 服务器默认监听(listen)端口: 25565</p>
</li>
</ul>
<h2 id="准备工作">准备工作</h2>
<h3 id="查看-java-是否安装">查看 Java 是否安装</h3>
<p>使用<code>java -version</code>指令查看 Java 是否已经正确安装，如果输出类似以下内容则表示 Java 已正确安装</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">java version <span class="s2">&#34;1.8.0_281&#34;</span>
Java<span class="o">(</span>TM<span class="o">)</span> SE Runtime Environment <span class="o">(</span>build 1.8.0_281-b09<span class="o">)</span>
Java HotSpot<span class="o">(</span>TM<span class="o">)</span> 64-Bit Server VM <span class="o">(</span>build 25.281-b09, mixed mode<span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><p>若报错则表示你的 Java 未正确安装</p>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw"></i>关于 Server JRE<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">Server JRE 不需要安装(也可以手动安装)，不需要上述操作，在启动服务器时将<code>java</code>指令换成 Server JRE 内 java 二进制文件的<code>绝对路径</code>(如<code>/opt/serverjre/jre/bin/java</code>或<code>D:\ServerJRE\jre\bin\java.exe</code>)即可。</div>
        </div>
    </div>
<h3 id="下载一个服务端">下载一个服务端</h3>
<p>下载一个服务端 Jar 文件，官方、spigot、paper 都行，这里用官方 1.16.5 作为演示，下面是下载地址:</p>
<ul>
<li><a href="https://download.mcbbs.net/v1/objects/1b557e7b033b583cd9f66746b7a9ab1ec1673ced/server.jar">https://download.mcbbs.net/v1/objects/1b557e7b033b583cd9f66746b7a9ab1ec1673ced/server.jar</a></li>
</ul>
<p>创建一个文件夹，名字任意，这里以<code>mcs-1.16.5</code>为例，位置为<code>~/RAMDisk/mcs-1.16.5</code>，将下载的<code>server.jar</code>丢进这个文件夹。</p>
<h2 id="启动并配置">启动并配置</h2>
<p><strong>在我们创建的文件夹内打开终端(命令行)</strong>，使用以下指令启动服务端</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># -Xms2G 是最小分配内存，这里设置的是2GB，理论上越大启动越快</span>
<span class="c1"># -Xmx4G 是最大分配内存，这里设置的是4GB，理论上不大于物理内存的80%</span>
java -Xms2G -Xmx4G -jar server.jar nogui
</code></pre></td></tr></table>
</div>
</div><p>你会发现他输出三行文字就退出了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="o">[</span>20:01:55<span class="o">]</span> <span class="o">[</span>main/ERROR<span class="o">]</span>: Failed to load properties from file: server.properties
<span class="o">[</span>20:01:55<span class="o">]</span> <span class="o">[</span>main/WARN<span class="o">]</span>: Failed to load eula.txt
<span class="o">[</span>20:01:55<span class="o">]</span> <span class="o">[</span>main/INFO<span class="o">]</span>: You need to agree to the EULA in order to run the server. Go to eula.txt <span class="k">for</span> more info.
</code></pre></td></tr></table>
</div>
</div><p>从字面也能看出我们没有同意用户协议，将文件夹下<code>eula.txt</code>文件里面的<code>eula=false</code>改成<code>eula=true</code>即可。同时，我们发现它还在文件夹里面创建了一个叫<code>server.properties</code>的配置文件，我们就现在对其进行修改。</p>
<p>点击下面的<code>&gt; Code</code>以展开配置文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="c1">#Minecraft server properties</span>
<span class="c1">#Wed Mar 10 20:01:55 CST 2021</span>

<span class="c1"># 出生点保护范围，非op玩家在出生点这个距离的范围内无法建造与破坏</span>
<span class="na">spawn-protection</span><span class="o">=</span><span class="s">16</span>
<span class="c1"># 设置每个tick花费的最大毫秒数。超过该毫秒数时，服务器看门狗将停止服务器程序并附带上信息：服务器的一个tick花费了60.00秒（最长也应该只有0.05秒）；判定服务器已崩溃，它将被强制关闭。遇到这种情况的时候，它会调用 System.exit(1)。</span>
<span class="na">max-tick-time</span><span class="o">=</span><span class="s">60000</span>
<span class="c1"># GameSpy4协议的服务器监听端口。用于获取服务器信息。</span>
<span class="na">query.port</span><span class="o">=</span><span class="s">25565</span>
<span class="c1"># 用于自定义世界的生成，参见 https://minecraft-zh.gamepedia.com/%E8%87%AA%E5%AE%9A%E4%B9%89</span>
<span class="na">generator-settings</span><span class="o">=</span>
<span class="c1"># 启用后区块文件以同步模式写入。</span>
<span class="na">sync-chunk-writes</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># 是否强制游戏模式</span>
<span class="na">force-gamemode</span><span class="o">=</span><span class="s">false</span>
<span class="c1"># 是否允许进入下界</span>
<span class="na">allow-nether</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># 在服务器上强制执行白名单</span>
<span class="na">enforce-whitelist</span><span class="o">=</span><span class="s">false</span>
<span class="c1"># 游戏模式(高版本不接受数字参数) survival|creative|adventure|spectator</span>
<span class="na">gamemode</span><span class="o">=</span><span class="s">survival</span>
<span class="c1"># 向所有在线OP发送所执行命令的输出。</span>
<span class="na">broadcast-console-to-ops</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># GameSpy4协议的服务器监听开关。用于获取服务器信息。</span>
<span class="na">enable-query</span><span class="o">=</span><span class="s">false</span>
<span class="c1"># 如果不为0，服务器将在玩家的空闲时间达到设置的时间（单位为分钟）时将玩家踢出服务器</span>
<span class="na">player-idle-timeout</span><span class="o">=</span><span class="s">0</span>
<span class="na">text-filtering-config</span><span class="o">=</span>
<span class="c1"># 游戏难度(高版本不接受数字参数) peaceful|easy|normal|hard</span>
<span class="na">difficulty</span><span class="o">=</span><span class="s">easy</span>
<span class="c1"># 向所有在线OP发送通过RCON执行的命令的输出。</span>
<span class="na">broadcast-rcon-to-ops</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># 决定攻击型生物（怪物）是否可以生成。</span>
<span class="na">spawn-monsters</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># OP的权限等级</span>
<span class="na">op-permission-level</span><span class="o">=</span><span class="s">4</span>
<span class="c1"># pvp开关</span>
<span class="na">pvp</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># 此选项控制实体需要距离玩家有多近才会将数据包发送给客户端。更高的数值意味着实体可以在更远的地方就被渲染，同时也可能提高增加延迟的几率。(单位:% 范围:10-1000)</span>
<span class="na">entity-broadcast-range-percentage</span><span class="o">=</span><span class="s">100</span>
<span class="c1"># 是否允许服务端定期发送统计数据到http://snoop.minecraft.net。</span>
<span class="na">snooper-enabled</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># 决定生成的地图的类型。 FLAT|LEGACY|DEFAULT</span>
<span class="na">level-type</span><span class="o">=</span><span class="s">default</span>
<span class="c1"># 使服务器在服务器列表中看起来是“在线”的。</span>
<span class="na">enable-status</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># 如果设为 true，服务器难度的设置会被忽略并且设为 hard（困难），玩家在死后会自动切换至旁观模式。</span>
<span class="na">hardcore</span><span class="o">=</span><span class="s">false</span>
<span class="c1"># 是否启用命令方块。</span>
<span class="na">enable-command-block</span><span class="o">=</span><span class="s">false</span>
<span class="c1"># 默认会允许n-1字节的数据包正常发送, 如果数据包为n字节或更大时会进行压缩。-1：完全禁用数据包压缩 0：压缩全部数据包</span>
<span class="na">network-compression-threshold</span><span class="o">=</span><span class="s">256</span>
<span class="c1"># 设置服务器同时能容纳的最大玩家数量。</span>
<span class="na">max-players</span><span class="o">=</span><span class="s">20</span>
<span class="c1"># 世界最大半径值</span>
<span class="na">max-world-size</span><span class="o">=</span><span class="s">29999984</span>
<span class="c1"># 资源包的SHA-1值，必须为小写十六进制，建议填写它。这还没有用于验证资源包的完整性，但是它提高了资源包缓存的有效性和可靠性。</span>
<span class="na">resource-pack-sha1</span><span class="o">=</span>
<span class="c1"># 设定函数的默认权限等级。</span>
<span class="na">function-permission-level</span><span class="o">=</span><span class="s">2</span>
<span class="c1"># rcon远程控制端口</span>
<span class="na">rcon.port</span><span class="o">=</span><span class="s">25575</span>
<span class="c1"># 服务器（监听的）端口号。</span>
<span class="na">server-port</span><span class="o">=</span><span class="s">25565</span>
<span class="c1"># 将服务器与一个特定IP绑定。强烈建议留空该属性值！</span>
<span class="na">server-ip</span><span class="o">=</span>
<span class="c1"># 决定是否生成村民。</span>
<span class="na">spawn-npcs</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># 允许玩家在安装添加飞行功能的mod前提下在生存模式下飞行。</span>
<span class="na">allow-flight</span><span class="o">=</span><span class="s">false</span>
<span class="c1"># 世界名称及其文件夹名（你可以把你已生成的世界存档复制过来，然后让这个值与那个文件夹的名字保持一致，服务器就可以载入该存档。）</span>
<span class="na">level-name</span><span class="o">=</span><span class="s">world</span>
<span class="c1"># 最大视距(单位：区块)，客户端大于此数值也不会显示更远的区块</span>
<span class="na">view-distance</span><span class="o">=</span><span class="s">10</span>
<span class="c1"># 可选选项，可输入指向一个资源包的URI。玩家可选择是否使用该资源包。注意若该值含&#34;:&#34;和&#34;=&#34;字符，需要在其前加上反斜线(\)</span>
<span class="na">resource-pack</span><span class="o">=</span>
<span class="c1"># 决定动物是否可以生成。</span>
<span class="na">spawn-animals</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># 启用服务器的白名单。</span>
<span class="na">white-list</span><span class="o">=</span><span class="s">false</span>
<span class="c1"># 设置RCON远程访问的密码</span>
<span class="na">rcon.password</span><span class="o">=</span>
<span class="c1"># 定义是否能生成结构（例如村庄）</span>
<span class="na">generate-structures</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># 是否让服务器对比Minecraft账户数据库验证登录信息。(俗称：正版验证)</span>
<span class="na">online-mode</span><span class="o">=</span><span class="s">true</span>
<span class="c1"># 玩家在游戏中能够建造的最大高度。</span>
<span class="na">max-build-height</span><span class="o">=</span><span class="s">256</span>
<span class="c1"># 为世界定义一个种子。</span>
<span class="na">level-seed</span><span class="o">=</span>
<span class="c1"># 如果服务器发送的ISP/AS和Mojang的验证服务器的不一样，玩家将会被踢出。(即：不允许使用VPN或代理)</span>
<span class="na">prevent-proxy-connections</span><span class="o">=</span><span class="s">false</span>
<span class="c1"># 是否使用针对Linux平台的数据包收发优化。此选项仅会在Linux平台上生成。</span>
<span class="na">use-native-transport</span><span class="o">=</span><span class="s">true</span>
<span class="na">enable-jmx-monitoring</span><span class="o">=</span><span class="s">false</span>
<span class="c1"># 玩家客户端的多人游戏服务器列表中显示的服务器信息，显示于名称下方。中文需要用unicode，超过59个字符可能会返回“通讯错误”</span>
<span class="na">motd</span><span class="o">=</span><span class="s">A Minecraft Server</span>
<span class="c1"># 设置玩家被踢出服务器前，可以发送的数据包数量。设置为0表示关闭此功能。</span>
<span class="na">rate-limit</span><span class="o">=</span><span class="s">0</span>
<span class="c1"># rcon远程控制开关</span>
<span class="na">enable-rcon</span><span class="o">=</span><span class="s">false</span>
</code></pre></td></tr></table>
</div>
</div><p>然后保存，<strong>记得保存！！！</strong></p>
<p>再次使用上面的指令启动，出现<code>Done (16.409s)! For help, type &quot;help&quot;</code>字样表示启动成功。此时便可以进入服务器了。在终端输入<code>stop</code>后回车可关闭服务器。</p>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw"></i>关于模组和插件<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><ul>
<li>forge 服务端的启动文件不是<code>server.jar</code>，而是<code>forge-x.xx.x.jar</code>，需要将<code>-jar server.jar</code>改成<code>-jar forge-x.xx.x.jar</code>，否则服务器不会加载模组。(注：这里的 xx 只是版本代称，请以实际版本填写。)</li>
<li>模组一般放在<code>mods</code>文件夹内。只有放入指定文件夹才能被服务器加载。<code>(只有 forge 或 fabric 服务器才能加载模组)</code></li>
<li>插件一般放在<code>plugins</code>文件夹内。只有放入指定文件夹才能被服务器加载。<code>(只有 spigot、paper 等基于 bukkit 或 sponge 服务器才能使用插件)</code></li>
</ul>
</div>
        </div>
    </div>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw"></i>关于 server-ip=<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>此参数为服务端监听地址，绑定的是具有此 IP 的网卡<br>
假定我有两张网卡，名称和 IP 分别为:</p>
<ul>
<li>eth0: 192.168.0.101</li>
<li>eth1: 192.168.1.101</li>
</ul>
<p>如果我设置 server-ip=192.168.1.101 那么服务端只会接受来自 eth1 网卡的连接，来自 eth0 的连接会被丢弃。</p>
<p>如果我设置 server-ip=127.0.0.1 那么服务端只会接受本地回环(loopback)的连接，即只有本机才能进入游戏，就算是来自局域网的连接也无法进入</p>
<p>设置 server-ip=0.0.0.0 或着留空则会监听所有网卡，会接受来自所有网卡的连接，<strong>故强烈建议此参数留空！</strong></p>
</div>
        </div>
    </div>]]></description></item><item><title>Minecraft 服务端种类</title><link>https://negoces.github.io/posts/d9828d29/</link><pubDate>Sat, 06 Jun 2020 20:41:33 +0800</pubDate><author>作者</author><guid>https://negoces.github.io/posts/d9828d29/</guid><description><![CDATA[<p>现在网络上的我的世界服务端有许多，那么他们都有些什么特点呢</p>
<h2 id="快速入门">快速入门</h2>
<p>底下那么一大坨认真看的人我觉得不多，直接列举吧</p>
<ul>
<li>插件服
<ul>
<li>Bukkit 插件服
<ul>
<li><a href="https://www.spigotmc.org/" target="_blank" rel="noopener noreffer">SpigotMC</a></li>
<li><a href="https://papermc.io/" target="_blank" rel="noopener noreffer">PaperMC</a></li>
</ul>
</li>
<li>Sponge 插件服
<ul>
<li><a href="https://www.spongepowered.org/" target="_blank" rel="noopener noreffer">SpongeVanilla</a></li>
</ul>
</li>
</ul>
</li>
<li>Mod服
<ul>
<li>Forge Mod服
<ul>
<li>官方 + <a href="https://files.minecraftforge.net/" target="_blank" rel="noopener noreffer">Forge</a></li>
</ul>
</li>
<li>Fabric Mod服
<ul>
<li>官方 + <a href="https://fabricmc.net/" target="_blank" rel="noopener noreffer">Fabric</a></li>
</ul>
</li>
</ul>
</li>
<li>混合型
<ul>
<li>Forge + Sponge (Mod+插件)
<ul>
<li><a href="https://www.spongepowered.org/" target="_blank" rel="noopener noreffer">SpongeForge</a>(本质是Mod，依赖Forge)</li>
</ul>
</li>
<li>Forge + Bukkit (Mod+插件)
<ul>
<li><a href="http://catserver.moe/" target="_blank" rel="noopener noreffer">CatServer</a>(存在兼容性问题，仅支持1.12.2)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>注:无论是那种服务端，插件放在<code>plugins</code>文件夹，模组放在<code>mods</code>文件夹。上面说过SpongeForge本质是模组，所以SpongeForge.jar不能直接启动，而是放在<code>mods</code>文件夹，sponge插件放在<code>plugins</code>文件夹</p>
<h2 id="知识普及">知识普及</h2>
<h3 id="api是啥">API是啥</h3>
<p>API（Application Programming Interface，应用程序接口）是一些预先定义的函数，或指软件系统不同组成部分衔接的约定。用来提供应用程序与开发人员基于某软件或硬件得以访问的一组例程，而又无需访问原码，或理解内部工作机制的细节。——摘自百度百科</p>
<p>简单来说就是给模组、插件开发者留的一些功能实现接口。</p>
<h2 id="minecraft现在有哪些api">Minecraft现在有哪些API</h2>
<p>这些API不是官方提供的，而是修改官方的服务端实现的，下面列举一下</p>
<h3 id="forge">Forge</h3>
<p>玩mod的人都知道，<a href="https://files.minecraftforge.net/" target="_blank" rel="noopener noreffer">Forge</a>是一个模组(mod)API，可以让我的世界拥有更多的方块和玩法，典型的例子有<a href="https://www.industrial-craft.net/" target="_blank" rel="noopener noreffer">工业2</a>，当然也有一些辅助型的mod，比如<a href="https://journeymap.info/Home" target="_blank" rel="noopener noreffer">旅行地图</a></p>
<h3 id="fabric">Fabric</h3>
<p>与Forge类似，<a href="https://fabricmc.net/" target="_blank" rel="noopener noreffer">Fabric</a>也是个模组API,与Forge不同的是Fabric是模块化的，主要针对高版本的MC(1.14+)，对Bukkit，Optifine支持友好，加速火把和WorldEdit也都出现了Fabric版本的模组了</p>
<h3 id="bukkit水桶">Bukkit(水桶)</h3>
<p>Bukkit是一个服务器插件API，大部分插件都是基于这个API的，比如 基础插件(EssX) 登录插件(Authme) 等等，特点是客户端不需要安装，只要服务端安装就行了。典型代表是CraftBukkit，但是被Mojang咬了一口，现在已经Over了。但是不用担心，大部分API已经被Spigot继承了。</p>
<h3 id="sponge海绵">Sponge(海绵)</h3>
<p>这也是一个插件API，他可以建立在原版上，也可以建立在Forge的API之上，使mod和插件同时存在变为可能，也可以单独存在。</p>
<h3 id="api总结">API总结</h3>
<table>
<thead>
<tr>
<th style="text-align:left">API名称</th>
<th style="text-align:left">用途</th>
<th style="text-align:left">要求</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Forge</td>
<td style="text-align:left">模组</td>
<td style="text-align:left">客户端和服务器均要安装</td>
<td style="text-align:left">加载慢占内存,主流</td>
</tr>
<tr>
<td style="text-align:left">Fabric</td>
<td style="text-align:left">模组</td>
<td style="text-align:left">客户端和服务器均要安装</td>
<td style="text-align:left">新API，支持的模组没Forge多</td>
</tr>
<tr>
<td style="text-align:left">Bukkit</td>
<td style="text-align:left">插件</td>
<td style="text-align:left">仅服务端需要安装</td>
<td style="text-align:left">老牌API，插件多，主流</td>
</tr>
<tr>
<td style="text-align:left">Sponge</td>
<td style="text-align:left">插件</td>
<td style="text-align:left">仅服务端需要安装</td>
<td style="text-align:left">插件没Bukkit多</td>
</tr>
</tbody>
</table>
<h2 id="服务端介绍">服务端介绍</h2>
<h3 id="官方服务端">官方服务端</h3>
<p>官方提供的服务端，在正版启动器和官网能够下载到，不提供任何API，只提供原版的联机能力</p>
<h3 id="spigotmc">SpigotMC</h3>
<p>是CraftBukkit的改进版本，提供Bukkit API，作为插件服使用，对性能要求稍微低一点，当然插件多了也吃性能。前面也说了CraftBukkit被咬了一口，Spigot为了避免这种情况所以不提供直接下载，只提供<a href="https://hub.spigotmc.org/jenkins/job/BuildTools/" target="_blank" rel="noopener noreffer">Buildtool下载</a>，用户可以通过此工具自己编译服务端。下面给出一个示例代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">java -jar buildtool.jar --rev 1.15.2
</code></pre></td></tr></table>
</div>
</div><p>注:需要代理</p>
<h3 id="papermc">PaperMC</h3>
<p>是SpigotMC的一个改进版本，也提供Bukkit API，插件服，对于性能要求稍高一些</p>
<h3 id="spongevanilla">SpongeVanilla</h3>
<p>在原版的基础上提供Sponge API，插件服</p>
<h3 id="官方fmlforge-mod-loader">官方+FML(Forge Mod Loader)</h3>
<p>在官方的基础上加上Forge API的支持，可以加mod</p>
<h3 id="官方fabric">官方+Fabric</h3>
<p>在官方的基础上加上Fabric API的支持，可以加mod</p>
<h3 id="官方forgespongeforge">官方+Forge+SpongeForge</h3>
<p>SpongeForge本质上可以算是一个Mod，在Forge API上面提供Spong API支持，同时支持模组和插件</p>
<h3 id="catserver">CatServer</h3>
<p>一个魔改版本，同时支持Forge API和Bukkit API，只支持1.12.2，存在兼容性问题，有时会导致Mod功能失效，例如AE2(应用能源)的空间塔</p>
<h3 id="服务端总结">服务端总结</h3>
<table>
<thead>
<tr>
<th style="text-align:left">服务端名称</th>
<th style="text-align:left">用途</th>
<th style="text-align:left">要求</th>
<th style="text-align:left">备注</th>
<th style="text-align:left">支持版本</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">官方</td>
<td style="text-align:left">原版联机</td>
<td style="text-align:left">无</td>
<td style="text-align:left"></td>
<td style="text-align:left">All</td>
</tr>
<tr>
<td style="text-align:left">SpigotMC</td>
<td style="text-align:left">插件服</td>
<td style="text-align:left">无</td>
<td style="text-align:left"></td>
<td style="text-align:left">1.8+</td>
</tr>
<tr>
<td style="text-align:left">PaperMC</td>
<td style="text-align:left">插件服</td>
<td style="text-align:left">无</td>
<td style="text-align:left"></td>
<td style="text-align:left">1.8+</td>
</tr>
<tr>
<td style="text-align:left">SpongeVanilla</td>
<td style="text-align:left">插件服</td>
<td style="text-align:left">无</td>
<td style="text-align:left">支持插件较少，没Bukkit全</td>
<td style="text-align:left">1.8+</td>
</tr>
<tr>
<td style="text-align:left">官方+FML</td>
<td style="text-align:left">模组服</td>
<td style="text-align:left">客户端需安装Forge及对应模组</td>
<td style="text-align:left"></td>
<td style="text-align:left">ALL</td>
</tr>
<tr>
<td style="text-align:left">官方+Fabric</td>
<td style="text-align:left">模组服</td>
<td style="text-align:left">客户端需安装Fabric及对应模组</td>
<td style="text-align:left">支持模组较少</td>
<td style="text-align:left">1.14+</td>
</tr>
<tr>
<td style="text-align:left">CatServer</td>
<td style="text-align:left">模组+插件服</td>
<td style="text-align:left">客户端需安装Forge及对应模组</td>
<td style="text-align:left">存在不兼容问题</td>
<td style="text-align:left">1.12.2</td>
</tr>
<tr>
<td style="text-align:left">另类:</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">SpongeForge</td>
<td style="text-align:left">模组+插件服</td>
<td style="text-align:left">客户端需安装Forge及对应模组</td>
<td style="text-align:left">本质是一个模组，需基于Forge，支持插件较少</td>
<td style="text-align:left">1.8+</td>
</tr>
</tbody>
</table>]]></description></item></channel></rss>